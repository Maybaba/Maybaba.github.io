"use strict";(self.webpackChunkfoodietree_FE=self.webpackChunkfoodietree_FE||[]).push([[569],{9569:(e,s,r)=>{r.r(s),r.d(s,{default:()=>x});var t=r(5043);const n={reservationDetailItem:"CustomerReservationDetailModal_reservationDetailItem__VEsb6",imgSection:"CustomerReservationDetailModal_imgSection__hm2PT",reservedProductImg:"CustomerReservationDetailModal_reservedProductImg__Tn1mk",reservedStoreImg:"CustomerReservationDetailModal_reservedStoreImg__SkZET",reservationTextInfo:"CustomerReservationDetailModal_reservationTextInfo__OyEQL",btnDes:"CustomerReservationDetailModal_btnDes__e26Zy",pickupConfirmBtn:"CustomerReservationDetailModal_pickupConfirmBtn__yxMXo",paymentBtn:"CustomerReservationDetailModal_paymentBtn__8CCKi",pickupCancelBtn:"CustomerReservationDetailModal_pickupCancelBtn__UYOyV",needHelp:"CustomerReservationDetailModal_needHelp__fg0-n"};var a=r(6820),i=r(3216),o=r(716),l=(r(8452),r(2347)),c=r(6407),d=r(9192),m=r(579);const p=e=>{let{storeInfo:s}=e;const[r,i]=(0,t.useState)(!1),[o,p]=(0,t.useState)(""),[x,u]=(0,t.useState)(!1),{closeModal:h,openModal:v}=(0,a.h)(),j=(null===s||void 0===s||s.storeId,null===s||void 0===s?void 0:s.price),_=()=>{i(!1),h()};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("button",{className:n.paymentBtn,onClick:async()=>{u(!0);const e="".concat(s.productId,"-").concat(Date.now());p(e);try{const r=await(0,d.nA)(e,s.reservationId),t=await r.json();u(!1),r.ok&&t?i(!0):(alert("\uacb0\uc81c \uc720\ud6a8 \uc2dc\uac04\uc774 \uc9c0\ub0ac\uc2b5\ub2c8\ub2e4."),h(),window.location.reload())}catch(r){alert("\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc774\uc6a9\ud574\uc8fc\uc138\uc694."),console.error(r),u(!1),i(!1)}},children:"\uacb0\uc81c\ud558\uae30"}),r&&(0,m.jsx)(c.A,{onClose:_,isLoading:x,children:(0,m.jsx)(l.A,{storeName:s.storeName,price:j,paymentId:o,onClose:_})})]})},x=e=>{let{reservationDetail:s,onPickupConfirm:r,onCancelClick:t}=e;const{closeModal:l}=(0,a.h)(),c=(0,i.Zp)();let d="";switch(s.status){case"CANCELED":d=(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("p",{children:["\ucde8\uc18c \uc2dc\uac04:",(0,m.jsx)("span",{children:s.cancelReservationAtF})]})});break;case"RESERVED":d=(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("p",{className:n.pickupTimeF,children:["\ud53d\uc5c5 \ub9c8\uac10 \uc2dc\uac04:",(0,m.jsx)("span",{children:s.pickupTimeF})]})});break;case"PICKEDUP":d=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:"\ud53d\uc5c5\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}),(0,m.jsxs)("p",{children:["\ud53d\uc5c5 \uc2dc\uac04:",(0,m.jsx)("span",{children:s.pickedUpAtF})]})]});break;case"NOSHOW":d=(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{children:"\ud53d\uc5c5 \ub9c8\uac10 \uc2dc\uac04\uae4c\uc9c0 \ud53d\uc5c5\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."}),(0,m.jsxs)("p",{children:["\ud53d\uc5c5 \ub9c8\uac10 \uc2dc\uac04:",(0,m.jsx)("span",{children:s.pickupTimeF})]})]});break;default:d=(0,m.jsx)("div",{children:"No information available."})}return(0,m.jsx)(m.Fragment,{children:(0,m.jsxs)("div",{className:n.reservationDetailItem,"data-reservation-id":s.id,children:[(0,m.jsxs)("div",{className:n.imgSection,children:[(0,m.jsx)("img",{className:n.reservedProductImg,src:s.productImg||o.I,alt:"\uc0c1\ud488 \uc774\ubbf8\uc9c0",onError:o.m}),(0,m.jsx)("img",{className:n.reservedStoreImg,src:s.storeImg||o.I,alt:"\uac00\uac8c \uc774\ubbf8\uc9c0",onError:o.m})]}),(0,m.jsxs)("div",{className:n.reservationTextInfo,children:[(0,m.jsxs)("div",{children:["\uac00\uac8c\uba85:",(0,m.jsx)("span",{children:s.storeName})]}),(0,m.jsxs)("div",{children:["\uac00\uac8c \uc8fc\uc18c:",(0,m.jsx)("a",{href:"",children:s.address})]}),(0,m.jsxs)("div",{children:["\uc608\uc57d\ud55c \uc2dc\uac04:",(0,m.jsx)("span",{children:s.reservationTimeF})]}),d]}),"RESERVED"===s.status?null===s.paymentTime?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("p",{className:n.btnDes,children:["\uacb0\uc81c\uac00 \uc544\uc9c1 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc558\uc5b4\uc694!",(0,m.jsx)("br",{}),"\uc544\ub798\uc758 \uacb0\uc81c\ud558\uae30 \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc11c \uacb0\uc81c\ub97c \uc644\ub8cc\ud574 \uc8fc\uc138\uc694"]}),(0,m.jsx)(p,{storeInfo:s})]}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("p",{className:n.btnDes,children:["\uc608\uc57d\uc744 \ucde8\uc18c\ud558\uace0 \uc2f6\uc73c\uc2dc\uba74 ",(0,m.jsx)("br",{})," '\uc608\uc57d \ucde8\uc18c' \ubc84\ud2bc\uc744 \ub20c\ub7ec\uc8fc\uc138\uc694!"]}),(0,m.jsx)("button",{className:n.pickupCancelBtn,onClick:()=>{l(),t(s.reservationId)},children:"\uc608\uc57d \ucde8\uc18c"})]}):(0,m.jsx)(m.Fragment,{}),(0,m.jsx)("div",{onClick:()=>{l(),c("/customer/issue",{state:{reservationDetail:s}})},className:n.needHelp,children:"\ub3c4\uc6c0\uc774 \ud544\uc694\ud558\uc2e0\uac00\uc694?"})]})})}}}]);
//# sourceMappingURL=569.0a7b04e3.chunk.js.map